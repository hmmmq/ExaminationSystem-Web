<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<link rel="canonical" href="http://setTheBaseURLInProjectSettings.com/TeacherPaperDetailUnpub.html" />
	<meta name="robots" content="index, follow" />
	<link rel="shortcut icon" type="image/png" th:href="@{${staticpath}+'img/favicon.png'}">
	<link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/bootstrap.min.css?2091'}">
	<link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/style.css?736'}">
	<link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/animate.min.css?6479'}">
	<link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/cookieconsent.min.css?8177'}">
	<link rel="stylesheet" type="text/css" th:href="@{${staticpath}+'css/all.min.css'}">
	<script type="text/javascript" th:src="@{${staticpath}+'js/jquery-3.5.1.min.js'}"></script>
    <title>TeacherPaperDetailUnpub</title>
<!-- Analytics -->
 
<!-- Analytics END -->

<!-- Additional JS -->





<!-- Additional JS END -->    
</head>
<body>

<!-- Preloader -->
<div id="page-loading-blocs-notifaction" class="page-preloader"></div>
<!-- Preloader END -->


<!-- Main container -->
<div class="page-container">

	<!-- bloc-18 -->
	<div class="bloc bg-paperBanner1 l-bloc" id="bloc-18">
		<div class="container bloc-sm">
			<div class="row">
				<div class="col">
					<nav class="navbar navbar-light row navbar-expand-md" role="navigation">
						<a class="navbar-brand link-company-style ltc-white-2" href="#">Details</a>
						<div class="navbar-content-area col">
							<a th:href="@{/teacher/getteacher}" ><img th:src="@{${staticpath}+'img/lazyload-ph.png'}" th:data-src="@{${staticpath}+'img/assest_teacher.png'}" class="img-fluid rounded-circle img-placeholder-us-style float-lg-right lazyload" alt="assest.jpeg" id="teacherpage"/></a>
						</div>
					</nav>
				</div>
			</div>
		</div>
	</div>
	<!-- bloc-18 END -->

<!-- bloc-25 -->
<div class="bloc l-bloc" id="bloc-25">
	<div class="container bloc-lg bloc-md-lg">
		<div class="row">
			<div class="col-12">
				<div class="btn-group btn-dropdown float-lg-right">
					<a href="#" class="btn dropdown-toggle btn-lg btn-77-style btn-united-nations-blue" data-toggle="dropdown" aria-expanded="false">Save or Release</a>
					<ul class="dropdown-menu" role="menu">
						<li id="save">
							<a class="dropdown-item a-block" >Save</a>
						</li>
						<li id="publish">
							<a class="dropdown-item a-block link-options-2-style" >Realease</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row voffset">
			<div class="col">
				<div class="row">
					<div class="col">
						<div class="card card-rd">
							<div class="card-body card-body-50-style">
								<img th:src="@{${staticpath}+'img/lazyload-ph.png'}" th:data-src="@{${staticpath}+'img/class8.jpg'}" class="img-fluid mx-auto d-block img-clas-style img-rd-lg lazyload" alt="class8" />
							</div>
						</div>
					</div>
					<div class="col">
						<div class="card card-rd">
							<div class="card-body card-body-50-style">
								<div class="form-group">
									<h5 class="tc-outer-space">
										<strong>Test Title</strong>
									</h5>
									<input class="form-control" th:value="${examteares.examCreate.title}" id="title" />
								</div>
								<div class="form-group">
									<h5 class="tc-outer-space">
										<strong>Duration (min)</strong><br>
									</h5>
									<input class="form-control" type="number" th:value="${examteares.examCreate.duration}" id="duration"/>
								</div>
								<h3 class="mg-md h4-bloc-19-style tc-united-nations-blue">
									<strong>More Information</strong>
								</h3>
								<h6 class="mg-md tc-outer-space">
									Teacher ID : <span th:text="${examteares.examCreate.teaId}" id="teaId"></span>
								</h6>
								<h6 class="mg-md tc-outer-space">
									Test ID : <span th:text="${examteares.examCreate.examId}" id="examId"></span>
								</h6>
								<h6 class="mg-md tc-outer-space">
									Create time : <span th:text="${examteares.examCreate.createTime}"></span>
								</h6>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- bloc-25 END -->

<!-- bloc-26 -->
<div class="bloc l-bloc" id="bloc-26">
	<div class="container bloc-lg bloc-sm-lg">
		<div class="row">
			<div class="col">
			<form action="/item/add1" method="post" id="itemForm">
				<ul id="itemList" class="list-unstyled list-sp-lg">
					<li class="singleTemp" >
						<div class="card card-rd bgc-light-sky-blue">
							<div class="card-body">
								<div class="row">
									<div class="col-lg-10">
										<h3 class="mg-md tc-united-nations-blue h3-style">
											<strong><span class='itemNum'>1</span>. Single Choice</strong><br><input type="hidden" class="type" value="0" />
										</h3>
									</div>
									<div class="col">
										<div class="form-group text-lg-center ">
											<input   class="form-control point" placeholder="Score" type="number" />
										</div>
									</div>
									<div class="col">
										<a  class="btn btn-lg btn-78-style btn-united-nations-blue float-lg-right itemAddBut">Save</a>
									</div>
								</div>
								<div class="form-group">
									<textarea  class="form-control content" rows="4" cols="50" placeholder="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."></textarea>
								</div>
								<div class="row">
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div class="card card-rd singleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>A</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control a" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="card card-rd singleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>C</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control c" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div class="card card-rd singleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>B</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control b" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="card card-rd singleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>D</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control d" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<h5 class="mg-md">
											The true answer is <span class="rightAnswer"></span>
										</h5>
									</div>
								</div>
							</div>
						</div>
					</li>
					<li class='multipleTemp'>
						<div class="card card-rd bgc-light-sky-blue">
							<div class="card-body">
								<div class="row">
									<div class="col-lg-10">
										<h3 class="mg-md tc-united-nations-blue">
											<strong><span class='itemNum'>2</span>. Multiple Choice</strong><br><input type="hidden" class="type" value="1" />
										</h3>
									</div>
									<div class="col">
										<div class="form-group text-lg-center ">
											<input class="form-control point" placeholder="Score" type="number" />
										</div>
									</div>
									<div class="col">
										<a  class="btn btn-lg btn-78-style btn-united-nations-blue float-lg-right itemAddBut">Save</a>
									</div>
								</div>
								<div class="form-group">
									<textarea class="form-control content" rows="4" cols="50" placeholder="Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim."></textarea>
								</div>
								<div class="row">
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div class="card card-rd multipleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>A</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control a" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="card card-rd multipleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>C</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control c" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div class="card card-rd multipleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>B</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control b" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="card card-rd multipleChoice">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>D</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control d" rows="4" cols="50" placeholder="Please enter the answer to this option"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<h5 class="mg-md">
											The true answer is <span class="rightAnswer"></span>
										</h5>
									</div>
								</div>
							</div>
						</div>
					</li>
				
				
					<li class="itemUnit" th:each="itemexam:${examteares.itemExams}" th:classappend="${itemexam.type==0}?'single':'multiple'">
						<div class="card card-rd bgc-light-sky-blue">
							<div class="card-body">
								<div class="row">
									<div class="col-lg-7">
										<h3 class="mg-md tc-united-nations-blue h3-style">
											<strong ><span th:text="${itemexamStat.index}+1" class='itemNum'></span></strong>	<strong th:text="${itemexam.type==0}?'. Single&nbsp;Choice':'.Multiple Choice'"></strong><input type="hidden" class="type" th:value="${itemexam.type}" /><input type="hidden" class="itemId" th:value="${itemexam.itemId}" />
										</h3>
									</div>
									<div class="col">
										<div class="form-group text-lg-center ">
											<input class="form-control point" placeholder="Score" type="number" th:value="${itemexam.point}" />
										</div>
									</div>
									<div class="col">
										<a  class="btn btn-lg btn-78-style btn-united-nations-blue float-lg-right itemSaveBut">Save</a>
									</div>

								</div>
								<div class="form-group">
									<textarea class="form-control content" rows="4" cols="50" placeholder=" " th:text="${itemexam.content}"></textarea>
								</div>

								<div class="row">
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div  th:class="${itemexam.type==0}?'card card-rd singleChoice':'card card-rd multipleChoice'"  th:classappend="${#strings.containsIgnoreCase(itemexam.rightAnswer,'a')}?'bgc-tea-green-2':''">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>A</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control a" rows="4" cols="50" placeholder="Please enter the answer to this option" th:text="${itemexam.a}"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div th:class="${itemexam.type==0}?'card card-rd singleChoice':'card card-rd multipleChoice'"  th:classappend="${#strings.containsIgnoreCase(itemexam.rightAnswer,'c')}?'bgc-tea-green-2':''">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>C</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control c" rows="4" cols="50" placeholder="Please enter the answer to this option" th:text="${itemexam.c}"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
									<div class="col">
										<ul class="list-unstyled list-sp-lg">
											<li>
												<div th:class="${itemexam.type==0}?'card card-rd singleChoice':'card card-rd multipleChoice'" th:classappend="${#strings.containsIgnoreCase(itemexam.rightAnswer,'b')}?'bgc-tea-green-2':''">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>B</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control b" rows="4" cols="50" placeholder="Please enter the answer to this option" th:text="${itemexam.b}"></textarea>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div th:class="${itemexam.type==0}?'card card-rd singleChoice':'card card-rd multipleChoice'" th:classappend="${#strings.containsIgnoreCase(itemexam.rightAnswer,'d')}?'bgc-tea-green-2':''">
													<div class="card-header">
														<h5 class="mg-clear">
															<strong><span class='choiceName'>D</span>.</strong>
														</h5>
													</div>
													<div class="card-body">
														<div class="form-group">
															<textarea class="form-control d" rows="4" cols="50" placeholder="Please enter the answer to this option" th:text="${itemexam.d}"></textarea>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<h5 class="mg-md">
											The true answer is <span th:text="${itemexam.rightAnswer}" class="rightAnswer"></span>
										</h5>
									</div>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</form>	
			</div>
		</div>
		<div class="row voffset-md">
			<div class="col">
				<a id="addSingle"class="btn btn-lg float-lg-right btn-button-style btn-united-nations-blue">Add a Single Choice</a>
			</div>
			<div class="col">
				<a id="addMultiple" class="btn btn-lg btn-united-nations-blue">Add a Multiple Choice</a>
			</div>
		</div>
	</div>
</div>
<!-- bloc-26 END -->

<!-- ScrollToTop Button -->
<a class="bloc-button btn btn-d scrollToTop" onclick="scrollToTarget('1',this)"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 32 32"><path class="scroll-to-top-btn-icon" d="M30,22.656l-14-13-14,13"/></svg></a>
<!-- ScrollToTop Button END-->


<!-- bloc-2 -->
<div class="bloc bgc-white l-bloc" id="bloc-2">
	<div class="container bloc-md">
		<div class="row">
			<div class="col-12">
				<img th:src="@{${staticpath}+'img/lazyload-ph.png'}" th:data-src="@{${staticpath}+'img/logo.png'}" class="img-fluid mx-auto d-block img-3-style lazyload" alt="logo" />
				<p class="mg-sm mx-auto d-block text-lg-center">
					Copyright © 2021 Foodie. All Rights Reserved.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-2 END -->

</div>
<!-- Main container END -->
<script th:src="@{${staticpath}+'js/jquery-3.5.1.min.js?4433'}"></script>
<script th:src="@{${staticpath}+'js/bootstrap.bundle.min.js?5808'}"></script>
<script th:src="@{${staticpath}+'js/blocs.min.js?9146'}"></script>
<script th:src="@{${staticpath}+'js/lazysizes.min.js'}" defer></script>
<script th:src="@{${staticpath}+'js/cookieconsent.min.js?810'}"></script>
<script th:src="@{${staticpath}+'js/scrollFX.js?6089'}"></script>
<script>
	$('#save').click(function () {
			var examcreate = {
				examId: $("#examId").text(),
				teaId:  $("#teaId").text(),
				title:  $("#title").val(),
				duration: $("#duration").val(),
				publishState:false
			};
			$.ajax({
				type: "PUT",
				url: "/teacher/exam/save",
				data: examcreate,
				success: function(data){
					if(data.status==401){
						alert("测试为空或服务器错误，保存失败");
					}else{
						alert("保存成功!");
						console.log(examcreate);
					}
				},
				dataType: "json"
			});
		});


	$("#publish").click(function(){
		console.log("start1");
		var publishReq={
			"examId":$("#examId").text(),
			"batchids":[1,2,3,4,5]
		};
		console.log("start2"+$("#examId").text());
		$.ajax({
			type:"PUT",
			url:"/teacher/exam/publish",
			data: JSON.stringify(publishReq),
			success: function(data){
				if(data.status==401){
					alert("测试为空或服务器错误，发布失败");
				}else{
					alert("发布成功!");
					console.log(publishReq);
					$("#teacherpage").trigger('click');
				}},
			dataType:"json",
			contentType:"application/json" });
	});

</script>
<script>
	$(document).ready(function(){
		$('.singleTemp').hide();
		$('.multipleTemp').hide();
		var count=Number($(".itemNum:last").html())+1;
		$("#addSingle").click(function() {
			var single1=$('.singleTemp').clone(true);
			single1.find('.itemNum').html(''+count);
			single1.removeClass("singleTemp");
			single1.addClass('itemUnit');
			single1.appendTo('#itemList');
			single1.show();
			count++;
		});
		$("#addMultiple").click(function() {
			var multiple1=$('.multipleTemp').clone(true);
			multiple1.find('.itemNum').html(''+count);
			multiple1.removeClass("multipleTemp");
			multiple1.addClass('itemUnit');
			multiple1.appendTo('#itemList');
			multiple1.show();
			count++;
		});
		$(".singleChoice").click(function() {
			$(this).parent().parent().parent().parent().parent().find(".singleChoice").removeClass("bgc-tea-green-2");;
			$(this).addClass('bgc-tea-green-2');
			var answer=$(this).find('.choiceName').html();
			$(this).parent().parent().parent().parent().parent().find(".rightAnswer").html(answer);
		});
		$(".multipleChoice").click(function() {
			var className=String($(this).attr('class'));
			if(className=='card card-rd multipleChoice bgc-tea-green-2'){$(this).removeClass("bgc-tea-green-2");
				var answer=$(this).find('.choiceName').html();
				var before=$(this).parent().parent().parent().parent().parent().find(".rightAnswer").html();
				var after=before.replace(answer,'');
				$(this).parent().parent().parent().parent().parent().find(".rightAnswer").html(after);
			}
			else{$(this).addClass('bgc-tea-green-2');
				var answer=$(this).find('.choiceName').html();
				var before=$(this).parent().parent().parent().parent().parent().find(".rightAnswer").html();
				var after=before+answer;
				$(this).parent().parent().parent().parent().parent().find(".rightAnswer").html(after);
			}
		});
		$(".itemSaveBut").click(function() {
			var root=$(this).parent().parent().parent();
			var itemExam = {
				itemId: root.find('.itemId').val(),
				examId: $("#examId").text(),
				type: root.find(".type").val(),
				content: root.find(".content").val(),
				a: root.find(".a").val(),
				b: root.find(".b").val(),
				c: root.find(".c").val(),
				d: root.find(".d").val(),
				rightAnswer: root.find(".rightAnswer").html(),
				point: root.find(".point").val()
			};
			$.ajax({
				type: "PUT",
				url: "/teacher/item/edit/teacher",
				data: itemExam,
				success: function(data){
					if(data.status==401){
						alert("测试为空或服务器错误，保存失败");
					}else{
						alert("保存成功!");
					}
				},
				dataType: "json"
			});
		});
		$(".itemAddBut").click(function() {
			var root=$(this).parent().parent().parent();
			var itemAdd = {
				examId: $("#examId").text(),
				type: root.find(".type").val(),
				content: root.find(".content").val(),
				a: root.find(".a").val(),
				b: root.find(".b").val(),
				c: root.find(".c").val(),
				d: root.find(".d").val(),
				rightAnswer: root.find(".rightAnswer").html(),
				point: root.find(".point").val()
			};
			$.ajax({
				type: "POST",
				url: "/teacher/item/add2",
				data: itemAdd,
				success: function(data){
					if(data.status==401){
						alert("测试为空或服务器错误，保存失败");
					}else{
						alert("保存成功!");


					}
				},
				dataType: "json"
			});
		});


});

</script>
</body>
</html>
